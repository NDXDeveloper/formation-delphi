üîù Retour au [Sommaire](/SOMMAIRE.md)

# 4.3.3 Boutons et actions

## Introduction

Les boutons sont probablement les √©l√©ments les plus interactifs et les plus reconnaissables d'une interface utilisateur. Ils permettent √† l'utilisateur de **d√©clencher des actions** : enregistrer un document, fermer une fen√™tre, valider un formulaire, lancer une recherche, etc.

Dans cette section, nous allons explorer :
- Les diff√©rents types de boutons disponibles dans la VCL
- Comment les configurer et les utiliser
- Le syst√®me d'actions (TAction) pour une gestion centralis√©e
- Les bonnes pratiques pour cr√©er des interfaces intuitives

## Les diff√©rents types de boutons

La VCL propose plusieurs composants de boutons, chacun ayant ses sp√©cificit√©s et ses cas d'usage.

### Vue d'ensemble rapide

| Composant | Description | Utilisation typique |
|-----------|-------------|---------------------|
| **TButton** | Bouton standard Windows | Boutons OK, Annuler, Valider |
| **TBitBtn** | Bouton avec image | Boutons avec ic√¥nes |
| **TSpeedButton** | Bouton plat (barre d'outils) | Barres d'outils, boutons group√©s |
| **TCheckBox** | Case √† cocher | Options activables/d√©sactivables |
| **TRadioButton** | Bouton radio | Choix unique parmi plusieurs options |

## Le composant TButton (Bouton standard)

### Qu'est-ce qu'un TButton ?

**TButton** est le bouton Windows standard que vous voyez dans pratiquement toutes les applications. C'est le composant de bouton le plus simple et le plus couramment utilis√©.

**Utilisations courantes :**
- Boutons de validation (OK, Valider, Enregistrer)
- Boutons d'annulation (Annuler, Fermer)
- Boutons d'action (Rechercher, Calculer, Importer)
- Navigation (Suivant, Pr√©c√©dent)

### O√π trouver TButton ?

TButton se trouve dans l'onglet **Standard** de la palette de composants. C'est g√©n√©ralement l'un des premiers composants.

### Propri√©t√©s essentielles de TButton

#### 1. Caption - Le texte du bouton

C'est le texte affich√© sur le bouton :

```pascal
Button1.Caption := 'Valider';
Button2.Caption := '&OK';  // Le & souligne la lettre suivante (Alt+O)
Button3.Caption := 'Enregistrer';
```

**Raccourcis clavier avec & :**
Le caract√®re `&` devant une lettre cr√©e un raccourci clavier (Alt + la lettre).

```pascal
ButtonOK.Caption := '&OK';         // Alt+O
ButtonAnnuler.Caption := '&Annuler'; // Alt+A
ButtonAide.Caption := 'A&ide';     // Alt+I (pour √©viter le conflit avec Annuler)
```

#### 2. Enabled - Activer/D√©sactiver

D√©termine si le bouton est actif ou d√©sactiv√© :

```pascal
Button1.Enabled := True;  // Actif (par d√©faut)
Button1.Enabled := False; // D√©sactiv√© (gris√©)
```

Un bouton d√©sactiv√© est affich√© en gris et ne r√©pond pas aux clics.

**Utilisation typique :**
```pascal
// D√©sactiver le bouton "Suivant" si le formulaire n'est pas valide
BoutonSuivant.Enabled := FormValide;
```

#### 3. Default - Bouton par d√©faut

Si True, ce bouton est activ√© quand l'utilisateur appuie sur **Entr√©e** :

```pascal
ButtonOK.Default := True;  // S'active avec Entr√©e
```

**Important :** Un seul bouton par formulaire peut avoir Default = True (g√©n√©ralement le bouton OK ou Valider).

#### 4. Cancel - Bouton d'annulation

Si True, ce bouton est activ√© quand l'utilisateur appuie sur **√âchap** :

```pascal
ButtonAnnuler.Cancel := True;  // S'active avec √âchap
```

**Important :** Un seul bouton par formulaire peut avoir Cancel = True (g√©n√©ralement le bouton Annuler ou Fermer).

#### 5. ModalResult - R√©sultat de dialogue

Pour les formulaires modaux, d√©finit le r√©sultat retourn√© quand le bouton est cliqu√© :

```pascal
ButtonOK.ModalResult := mrOk;       // Retourne mrOk
ButtonAnnuler.ModalResult := mrCancel; // Retourne mrCancel
```

**Valeurs courantes :**
- `mrNone` : Ne ferme pas le formulaire (par d√©faut)
- `mrOk` : OK
- `mrCancel` : Annuler
- `mrYes` : Oui
- `mrNo` : Non
- `mrAbort` : Abandonner
- `mrRetry` : R√©essayer
- `mrIgnore` : Ignorer

**Utilisation :**
```pascal
// Dans le formulaire appelant
if FormDialogue.ShowModal = mrOk then
begin
  // L'utilisateur a cliqu√© sur OK
  TraiterDonnees;
end
else
begin
  // L'utilisateur a annul√©
end;
```

#### 6. TabOrder - Ordre de tabulation

D√©finit l'ordre dans lequel les contr√¥les re√ßoivent le focus avec la touche Tab :

```pascal
Button1.TabOrder := 0;  // Premier
Button2.TabOrder := 1;  // Deuxi√®me
Button3.TabOrder := 2;  // Troisi√®me
```

#### 7. TabStop - Arr√™t √† la tabulation

D√©termine si le bouton peut recevoir le focus via la touche Tab :

```pascal
Button1.TabStop := True;   // Peut recevoir le focus (par d√©faut)
Button2.TabStop := False;  // Ignor√© lors de la tabulation
```

### Utilisation pratique de TButton

#### Exemple 1 : Boutons de validation et d'annulation

```pascal
procedure TForm1.FormCreate(Sender: TObject);
begin
  // Configuration du bouton OK
  ButtonOK.Caption := '&OK';
  ButtonOK.Default := True;
  ButtonOK.ModalResult := mrOk;

  // Configuration du bouton Annuler
  ButtonAnnuler.Caption := '&Annuler';
  ButtonAnnuler.Cancel := True;
  ButtonAnnuler.ModalResult := mrCancel;
end;
```

#### Exemple 2 : Activer/D√©sactiver selon les conditions

```pascal
procedure TForm1.EditNomChange(Sender: TObject);
begin
  // Activer le bouton seulement si le nom est rempli
  ButtonValider.Enabled := Trim(EditNom.Text) <> '';
end;

procedure TForm1.CheckBoxAccepterClick(Sender: TObject);
begin
  // Activer le bouton seulement si la case est coch√©e
  ButtonContinuer.Enabled := CheckBoxAccepter.Checked;
end;
```

#### Exemple 3 : Bouton avec confirmation

```pascal
procedure TForm1.ButtonSupprimerClick(Sender: TObject);
begin
  if MessageDlg('Voulez-vous vraiment supprimer cet √©l√©ment ?',
                mtConfirmation, [mbYes, mbNo], 0) = mrYes then
  begin
    // Supprimer l'√©l√©ment
    SupprimerElement;
    ShowMessage('√âl√©ment supprim√©');
  end;
end;
```

#### Exemple 4 : Bouton avec traitement long

```pascal
procedure TForm1.ButtonTraiterClick(Sender: TObject);
begin
  // D√©sactiver le bouton pendant le traitement
  ButtonTraiter.Enabled := False;
  ButtonTraiter.Caption := 'Traitement en cours...';
  try
    // Effectuer le traitement long
    TraitementLong;
    ShowMessage('Traitement termin√©');
  finally
    // R√©activer le bouton
    ButtonTraiter.Enabled := True;
    ButtonTraiter.Caption := 'Traiter';
  end;
end;
```

### L'√©v√©nement OnClick

C'est l'√©v√©nement le plus important pour les boutons. Il est d√©clench√© quand l'utilisateur clique sur le bouton.

```pascal
procedure TForm1.Button1Click(Sender: TObject);
begin
  // Votre code ici
  ShowMessage('Bouton cliqu√© !');
end;
```

**Pour cr√©er un gestionnaire OnClick :**
1. Double-cliquez sur le bouton dans le concepteur
2. Ou s√©lectionnez le bouton et double-cliquez sur OnClick dans l'Inspecteur d'objets

### Astuces et bonnes pratiques pour TButton

#### 1. Nommage coh√©rent

Utilisez des noms descriptifs avec un pr√©fixe :

```pascal
ButtonValider, BtnValider, btnValider
ButtonAnnuler, BtnAnnuler, btnAnnuler
ButtonRechercher, BtnRechercher, btnRechercher
```

#### 2. Texte clair et action-oriented

Le texte du bouton doit indiquer clairement l'action :

**Bon :** "Enregistrer", "Supprimer", "Rechercher"
**Mauvais :** "OK", "Faire", "Cliquer ici"

#### 3. Placement coh√©rent

Placez toujours les boutons au m√™me endroit :
- Boutons de validation en bas √† droite
- OK avant Annuler
- Boutons principaux plus visibles que les secondaires

#### 4. Un seul Default et un seul Cancel

```pascal
// Bon
ButtonOK.Default := True;
ButtonAnnuler.Cancel := True;

// Mauvais - ne faites pas √ßa !
Button1.Default := True;
Button2.Default := True;  // Conflit !
```

## Le composant TBitBtn (Bouton avec image)

### Qu'est-ce qu'un TBitBtn ?

**TBitBtn** est un bouton qui peut afficher une **image (bitmap)** en plus du texte. Il offre √©galement des **glyphes pr√©d√©finis** pour les actions courantes.

**Avantages :**
- Plus visuel que TButton
- Glyphes int√©gr√©s pour les actions standard
- Peut afficher image + texte

### O√π trouver TBitBtn ?

TBitBtn se trouve dans l'onglet **Additional** de la palette de composants.

### Propri√©t√©s essentielles de TBitBtn

TBitBtn poss√®de toutes les propri√©t√©s de TButton, plus :

#### 1. Kind - Type pr√©d√©fini

Kind d√©finit un type de bouton pr√©d√©fini avec ic√¥ne et comportement :

```pascal
BitBtn1.Kind := bkOK;       // Bouton OK
BitBtn2.Kind := bkCancel;   // Bouton Annuler
BitBtn3.Kind := bkYes;      // Bouton Oui
BitBtn4.Kind := bkNo;       // Bouton Non
BitBtn5.Kind := bkHelp;     // Bouton Aide
BitBtn6.Kind := bkClose;    // Bouton Fermer
BitBtn7.Kind := bkAbort;    // Bouton Abandonner
BitBtn8.Kind := bkRetry;    // Bouton R√©essayer
BitBtn9.Kind := bkIgnore;   // Bouton Ignorer
BitBtn10.Kind := bkAll;     // Bouton Tous
```

Quand vous d√©finissez Kind, le bouton obtient automatiquement :
- Une ic√¥ne appropri√©e
- Un Caption appropri√©
- Un ModalResult appropri√©
- Un raccourci clavier

#### 2. Glyph - Image personnalis√©e

Permet de d√©finir une image personnalis√©e pour le bouton :

```pascal
BitBtn1.Glyph.LoadFromFile('icone.bmp');
```

**Note :** Si Kind n'est pas `bkCustom`, Glyph est ignor√©.

#### 3. Layout - Position de l'image

D√©termine o√π l'image est plac√©e par rapport au texte :

```pascal
BitBtn1.Layout := blGlyphLeft;   // Image √† gauche (par d√©faut)
BitBtn1.Layout := blGlyphRight;  // Image √† droite
BitBtn1.Layout := blGlyphTop;    // Image en haut
BitBtn1.Layout := blGlyphBottom; // Image en bas
```

#### 4. Spacing - Espacement

Espace en pixels entre l'image et le texte :

```pascal
BitBtn1.Spacing := 5;  // 5 pixels d'espace
```

#### 5. NumGlyphs - Nombre d'images

D√©finit combien d'√©tats visuels l'image contient (1-4) :

```pascal
BitBtn1.NumGlyphs := 1;  // Une seule image (par d√©faut)
BitBtn1.NumGlyphs := 2;  // Normal + D√©sactiv√©
BitBtn1.NumGlyphs := 3;  // Normal + D√©sactiv√© + Cliqu√©
BitBtn1.NumGlyphs := 4;  // Normal + D√©sactiv√© + Cliqu√© + Survol
```

### Utilisation pratique de TBitBtn

#### Exemple 1 : Boutons de dialogue standards

```pascal
procedure TForm1.FormCreate(Sender: TObject);
begin
  // Utiliser les Kind pr√©d√©finis
  BitBtnOK.Kind := bkOK;
  BitBtnAnnuler.Kind := bkCancel;
  BitBtnAide.Kind := bkHelp;
end;
```

#### Exemple 2 : Bouton personnalis√© avec image

```pascal
procedure TForm1.FormCreate(Sender: TObject);
begin
  BitBtnNouveau.Kind := bkCustom;
  BitBtnNouveau.Caption := 'Nouveau';
  BitBtnNouveau.Glyph.LoadFromFile('nouveau.bmp');
  BitBtnNouveau.Layout := blGlyphLeft;
  BitBtnNouveau.Spacing := 5;
end;
```

#### Exemple 3 : Barre de boutons d'actions

```pascal
procedure TForm1.CreerBarreOutils;
begin
  // Nouveau
  BitBtnNouveau.Kind := bkCustom;
  BitBtnNouveau.Caption := 'Nouveau';
  BitBtnNouveau.Hint := 'Cr√©er un nouveau document';
  BitBtnNouveau.ShowHint := True;

  // Ouvrir
  BitBtnOuvrir.Kind := bkCustom;
  BitBtnOuvrir.Caption := 'Ouvrir';
  BitBtnOuvrir.Hint := 'Ouvrir un document existant';
  BitBtnOuvrir.ShowHint := True;

  // Enregistrer
  BitBtnEnregistrer.Kind := bkCustom;
  BitBtnEnregistrer.Caption := 'Enregistrer';
  BitBtnEnregistrer.Hint := 'Enregistrer le document';
  BitBtnEnregistrer.ShowHint := True;
end;
```

## Le composant TSpeedButton (Bouton plat)

### Qu'est-ce qu'un TSpeedButton ?

**TSpeedButton** est un bouton **plat sans bordure** principalement utilis√© dans les barres d'outils. Il peut fonctionner comme un bouton normal ou comme un bouton √† bascule (on/off).

**Caract√©ristiques :**
- Apparence plate et moderne
- Peut √™tre group√© avec d'autres SpeedButtons
- Peut fonctionner en mode bascule (toggle)
- Id√©al pour les barres d'outils

### O√π trouver TSpeedButton ?

TSpeedButton se trouve dans l'onglet **Additional** de la palette de composants.

### Propri√©t√©s essentielles de TSpeedButton

#### 1. Glyph - Image du bouton

Comme TBitBtn, permet d'afficher une image :

```pascal
SpeedButton1.Glyph.LoadFromFile('icone.bmp');
```

#### 2. GroupIndex - Groupement de boutons

Permet de cr√©er des groupes de boutons radio (un seul actif √† la fois) :

```pascal
SpeedButton1.GroupIndex := 1;  // Groupe 1
SpeedButton2.GroupIndex := 1;  // Groupe 1
SpeedButton3.GroupIndex := 1;  // Groupe 1
SpeedButton4.GroupIndex := 0;  // Ind√©pendant (par d√©faut)
```

**Note :** GroupIndex = 0 signifie que le bouton est ind√©pendant.

#### 3. Down - √âtat enfonc√©

Indique si le bouton est enfonc√© (pour les boutons √† bascule) :

```pascal
SpeedButton1.Down := True;   // Enfonc√©
SpeedButton1.Down := False;  // Normal
```

#### 4. AllowAllUp - Autoriser tous d√©sactiv√©s

Pour un groupe, permet de n'avoir aucun bouton enfonc√© :

```pascal
SpeedButton1.AllowAllUp := True;  // Tous peuvent √™tre d√©sactiv√©s
SpeedButton1.AllowAllUp := False; // Au moins un doit √™tre actif (par d√©faut)
```

#### 5. Flat - Apparence plate

Si True, le bouton est compl√®tement plat jusqu'au survol :

```pascal
SpeedButton1.Flat := True;   // Apparence plate
SpeedButton1.Flat := False;  // Apparence normale
```

### Utilisation pratique de TSpeedButton

#### Exemple 1 : Barre d'outils

```pascal
procedure TForm1.CreerBarreOutils;
begin
  // Configuration des boutons de la barre d'outils
  SpeedButtonNouveau.Hint := 'Nouveau (Ctrl+N)';
  SpeedButtonNouveau.ShowHint := True;
  SpeedButtonNouveau.Flat := True;

  SpeedButtonOuvrir.Hint := 'Ouvrir (Ctrl+O)';
  SpeedButtonOuvrir.ShowHint := True;
  SpeedButtonOuvrir.Flat := True;

  SpeedButtonEnregistrer.Hint := 'Enregistrer (Ctrl+S)';
  SpeedButtonEnregistrer.ShowHint := True;
  SpeedButtonEnregistrer.Flat := True;
end;
```

#### Exemple 2 : Boutons radio visuels (alignement de texte)

```pascal
procedure TForm1.FormCreate(Sender: TObject);
begin
  // Cr√©er un groupe de boutons pour l'alignement
  SpeedButtonGauche.GroupIndex := 1;
  SpeedButtonCentre.GroupIndex := 1;
  SpeedButtonDroite.GroupIndex := 1;

  SpeedButtonGauche.AllowAllUp := False;
  SpeedButtonGauche.Down := True;  // Gauche s√©lectionn√© par d√©faut
end;

procedure TForm1.SpeedButtonGaucheClick(Sender: TObject);
begin
  Memo1.Alignment := taLeftJustify;
end;

procedure TForm1.SpeedButtonCentreClick(Sender: TObject);
begin
  Memo1.Alignment := taCenter;
end;

procedure TForm1.SpeedButtonDroiteClick(Sender: TObject);
begin
  Memo1.Alignment := taRightJustify;
end;
```

#### Exemple 3 : Bouton √† bascule (activer/d√©sactiver une fonction)

```pascal
procedure TForm1.SpeedButtonModeEditionClick(Sender: TObject);
begin
  if SpeedButtonModeEdition.Down then
  begin
    // Mode √©dition activ√©
    Memo1.ReadOnly := False;
    Memo1.Color := clWindow;
    StatusBar1.SimpleText := 'Mode √©dition';
  end
  else
  begin
    // Mode √©dition d√©sactiv√©
    Memo1.ReadOnly := True;
    Memo1.Color := clBtnFace;
    StatusBar1.SimpleText := 'Mode lecture seule';
  end;
end;
```

## Le composant TCheckBox (Case √† cocher)

### Qu'est-ce qu'un TCheckBox ?

**TCheckBox** est une case √† cocher qui peut √™tre coch√©e ou d√©coch√©e. Elle repr√©sente une option **activ√©e ou d√©sactiv√©e**.

**Utilisations courantes :**
- Activer/d√©sactiver une option
- S√©lectionner plusieurs √©l√©ments ind√©pendants
- Accepter des conditions

### Propri√©t√©s essentielles de TCheckBox

#### 1. Checked - √âtat coch√©

Indique si la case est coch√©e :

```pascal
CheckBox1.Checked := True;   // Coch√©e
CheckBox1.Checked := False;  // D√©coch√©e

// V√©rifier l'√©tat
if CheckBox1.Checked then
  ShowMessage('Option activ√©e');
```

#### 2. State - √âtat √† trois valeurs

Pour les cases √† cocher avec un √©tat ind√©termin√© :

```pascal
CheckBox1.State := cbUnchecked;   // D√©coch√©e
CheckBox1.State := cbChecked;     // Coch√©e
CheckBox1.State := cbGrayed;      // Ind√©termin√©e (gris√©e)
```

#### 3. AllowGrayed - Autoriser l'√©tat gris√©

Permet l'√©tat ind√©termin√© :

```pascal
CheckBox1.AllowGrayed := True;   // Trois √©tats possibles
CheckBox1.AllowGrayed := False;  // Deux √©tats seulement (par d√©faut)
```

### Utilisation pratique de TCheckBox

#### Exemple 1 : Options d'affichage

```pascal
procedure TForm1.CheckBoxGrasClick(Sender: TObject);
begin
  if CheckBoxGras.Checked then
    Memo1.Font.Style := Memo1.Font.Style + [fsBold]
  else
    Memo1.Font.Style := Memo1.Font.Style - [fsBold];
end;

procedure TForm1.CheckBoxItalicClick(Sender: TObject);
begin
  if CheckBoxItalic.Checked then
    Memo1.Font.Style := Memo1.Font.Style + [fsItalic]
  else
    Memo1.Font.Style := Memo1.Font.Style - [fsItalic];
end;
```

#### Exemple 2 : Acceptation de conditions

```pascal
procedure TForm1.CheckBoxAccepterClick(Sender: TObject);
begin
  ButtonContinuer.Enabled := CheckBoxAccepter.Checked;
end;

procedure TForm1.FormCreate(Sender: TObject);
begin
  CheckBoxAccepter.Caption := 'J''accepte les conditions d''utilisation';
  ButtonContinuer.Enabled := False;
end;
```

#### Exemple 3 : S√©lection multiple

```pascal
procedure TForm1.ButtonExporterClick(Sender: TObject);
var
  Options: TStringList;
begin
  Options := TStringList.Create;
  try
    if CheckBoxExportPDF.Checked then
      Options.Add('PDF');
    if CheckBoxExportExcel.Checked then
      Options.Add('Excel');
    if CheckBoxExportHTML.Checked then
      Options.Add('HTML');

    if Options.Count > 0 then
      ExporterDonnees(Options)
    else
      ShowMessage('Veuillez s√©lectionner au moins un format');
  finally
    Options.Free;
  end;
end;
```

## Le composant TRadioButton (Bouton radio)

### Qu'est-ce qu'un TRadioButton ?

**TRadioButton** permet de faire un **choix unique** parmi plusieurs options. Dans un groupe de RadioButtons, un seul peut √™tre s√©lectionn√© √† la fois.

**Utilisations courantes :**
- Choix entre plusieurs options mutuellement exclusives
- S√©lection d'un mode de fonctionnement
- Questions √† choix unique

### Propri√©t√©s essentielles de TRadioButton

#### 1. Checked - √âtat s√©lectionn√©

Indique si le bouton radio est s√©lectionn√© :

```pascal
RadioButton1.Checked := True;   // S√©lectionn√©
RadioButton1.Checked := False;  // Non s√©lectionn√©

// V√©rifier quelle option est s√©lectionn√©e
if RadioButton1.Checked then
  ShowMessage('Option 1 s√©lectionn√©e');
```

**Important :** Quand vous mettez Checked √† True sur un RadioButton, tous les autres du m√™me groupe passent automatiquement √† False.

### Utilisation pratique de TRadioButton

#### Exemple 1 : Choix de mode

```pascal
procedure TForm1.RadioButtonDebutantClick(Sender: TObject);
begin
  ModeApplication := modeDebutant;
  AfficherInterfaceDebutant;
end;

procedure TForm1.RadioButtonAvanceClick(Sender: TObject);
begin
  ModeApplication := modeAvance;
  AfficherInterfaceAvancee;
end;

procedure TForm1.RadioButtonExpertClick(Sender: TObject);
begin
  ModeApplication := modeExpert;
  AfficherInterfaceExpert;
end;
```

#### Exemple 2 : Choix de format

```pascal
procedure TForm1.ButtonEnregistrerClick(Sender: TObject);
var
  Format: string;
begin
  if RadioButtonPDF.Checked then
    Format := 'PDF'
  else if RadioButtonExcel.Checked then
    Format := 'Excel'
  else if RadioButtonHTML.Checked then
    Format := 'HTML'
  else
  begin
    ShowMessage('Veuillez s√©lectionner un format');
    Exit;
  end;

  EnregistrerDans(Format);
end;
```

#### Exemple 3 : Groupement avec TRadioGroup

Pour simplifier la gestion de RadioButtons, utilisez **TRadioGroup** :

```pascal
procedure TForm1.FormCreate(Sender: TObject);
begin
  RadioGroupFormat.Items.Clear;
  RadioGroupFormat.Items.Add('PDF');
  RadioGroupFormat.Items.Add('Excel');
  RadioGroupFormat.Items.Add('HTML');
  RadioGroupFormat.ItemIndex := 0;  // PDF par d√©faut
end;

procedure TForm1.RadioGroupFormatClick(Sender: TObject);
begin
  case RadioGroupFormat.ItemIndex of
    0: LabelChoix.Caption := 'Format PDF s√©lectionn√©';
    1: LabelChoix.Caption := 'Format Excel s√©lectionn√©';
    2: LabelChoix.Caption := 'Format HTML s√©lectionn√©';
  end;
end;
```

## Le syst√®me d'Actions (TAction et TActionList)

### Qu'est-ce qu'une Action ?

Une **Action** (TAction) est un objet qui encapsule une **commande r√©utilisable**. Au lieu de dupliquer le code dans plusieurs gestionnaires d'√©v√©nements, vous d√©finissez l'action une fois et la liez √† plusieurs composants.

**Avantages :**
- Centralisation du code
- R√©utilisation facile
- Gestion centralis√©e de l'√©tat (activ√©/d√©sactiv√©)
- Raccourcis clavier centralis√©s
- Facilite la maintenance

### Composants d'actions

**TActionList** : Conteneur qui regroupe plusieurs TAction

**TAction** : Une action sp√©cifique (Nouveau, Ouvrir, Enregistrer, etc.)

### O√π trouver TActionList ?

TActionList se trouve dans l'onglet **Standard** de la palette de composants.

### Cr√©er et utiliser des Actions

#### √âtape 1 : Placer un TActionList sur le formulaire

1. Glissez un TActionList depuis la palette
2. Double-cliquez dessus pour ouvrir l'√©diteur d'actions
3. Cliquez sur "Nouvelle action" pour cr√©er une action

#### √âtape 2 : Configurer une Action

Propri√©t√©s importantes d'une TAction :

**Name** : Nom de l'action (ex: ActionNouveau, ActionOuvrir)

**Caption** : Texte affich√© (ex: "&Nouveau")

**Hint** : Info-bulle (ex: "Cr√©er un nouveau document")

**ShortCut** : Raccourci clavier (ex: Ctrl+N)

**Enabled** : Active/d√©sactive tous les composants li√©s

**Checked** : √âtat coch√© (pour les actions √† bascule)

**ImageIndex** : Index de l'image dans une ImageList

#### √âtape 3 : Lier l'Action aux composants

Une fois l'action cr√©√©e, liez-la √† vos composants :

```pascal
// Via l'Inspecteur d'objets
MenuItem1.Action := ActionNouveau;
Button1.Action := ActionNouveau;
SpeedButton1.Action := ActionNouveau;
```

Tous ces composants ex√©cuteront la m√™me action !

#### √âtape 4 : Impl√©menter le code de l'Action

```pascal
procedure TForm1.ActionNouveauExecute(Sender: TObject);
begin
  // Code ex√©cut√© quand l'action est d√©clench√©e
  NouveauDocument;
end;
```

### Utilisation pratique des Actions

#### Exemple complet : Application avec menu et barre d'outils

```pascal
procedure TForm1.FormCreate(Sender: TObject);
begin
  // Configuration des actions

  // Action Nouveau
  ActionNouveau.Caption := '&Nouveau';
  ActionNouveau.Hint := 'Cr√©er un nouveau document';
  ActionNouveau.ShortCut := ShortCut(Ord('N'), [ssCtrl]);

  // Action Ouvrir
  ActionOuvrir.Caption := '&Ouvrir...';
  ActionOuvrir.Hint := 'Ouvrir un document existant';
  ActionOuvrir.ShortCut := ShortCut(Ord('O'), [ssCtrl]);

  // Action Enregistrer
  ActionEnregistrer.Caption := '&Enregistrer';
  ActionEnregistrer.Hint := 'Enregistrer le document';
  ActionEnregistrer.ShortCut := ShortCut(Ord('S'), [ssCtrl]);
  ActionEnregistrer.Enabled := False;  // D√©sactiv√© au d√©part

  // Lier les actions aux composants
  MenuItemNouveau.Action := ActionNouveau;
  ButtonNouveau.Action := ActionNouveau;
  SpeedButtonNouveau.Action := ActionNouveau;

  MenuItemOuvrir.Action := ActionOuvrir;
  ButtonOuvrir.Action := ActionOuvrir;
  SpeedButtonOuvrir.Action := ActionOuvrir;

  MenuItemEnregistrer.Action := ActionEnregistrer;
  ButtonEnregistrer.Action := ActionEnregistrer;
  SpeedButtonEnregistrer.Action := ActionEnregistrer;
end;

procedure TForm1.ActionNouveauExecute(Sender: TObject);
begin
  if DocumentModifie then
  begin
    case MessageDlg('Le document a √©t√© modifi√©. Enregistrer les modifications ?',
                     mtConfirmation, [mbYes, mbNo, mbCancel], 0) of
      mrYes: ActionEnregistrer.Execute;
      mrCancel: Exit;
    end;
  end;

  NouveauDocument;
  ActionEnregistrer.Enabled := False;
end;

procedure TForm1.ActionOuvrirExecute(Sender: TObject);
begin
  if OpenDialog1.Execute then
  begin
    ChargerDocument(OpenDialog1.FileName);
    ActionEnregistrer.Enabled := False;
  end;
end;

procedure TForm1.ActionEnregistrerExecute(Sender: TObject);
begin
  EnregistrerDocument;
  ActionEnregistrer.Enabled := False;
  DocumentModifie := False;
end;

procedure TForm1.MemoChange(Sender: TObject);
begin
  // Activer Enregistrer quand le document est modifi√©
  ActionEnregistrer.Enabled := True;
  DocumentModifie := True;
end;
```

#### Exemple 2 : Actions de formatage

```pascal
procedure TForm1.FormCreate(Sender: TObject);
begin
  // Actions de formatage
  ActionGras.Caption := '&Gras';
  ActionGras.ShortCut := ShortCut(Ord('B'), [ssCtrl]);
  ActionGras.Checked := False;

  ActionItalique.Caption := '&Italique';
  ActionItalique.ShortCut := ShortCut(Ord('I'), [ssCtrl]);
  ActionItalique.Checked := False;

  ActionSouligne.Caption := '&Soulign√©';
  ActionSouligne.ShortCut := ShortCut(Ord('U'), [ssCtrl]);
  ActionSouligne.Checked := False;
end;

procedure TForm1.ActionGrasExecute(Sender: TObject);
begin
  ActionGras.Checked := not ActionGras.Checked;

  if ActionGras.Checked then
    Memo1.Font.Style := Memo1.Font.Style + [fsBold]
  else
    Memo1.Font.Style := Memo1.Font.Style - [fsBold];
end;

procedure TForm1.ActionItaliqueExecute(Sender: TObject);
begin
  ActionItalique.Checked := not ActionItalique.Checked;

  if ActionItalique.Checked then
    Memo1.Font.Style := Memo1.Font.Style + [fsItalic]
  else
    Memo1.Font.Style := Memo1.Font.Style - [fsItalic];
end;
```

### √âv√©nements des Actions

**OnExecute** : D√©clench√© quand l'action est ex√©cut√©e

```pascal
procedure TForm1.Action1Execute(Sender: TObject);
begin
  // Code √† ex√©cuter
end;
```

**OnUpdate** : D√©clench√© r√©guli√®rement pour mettre √† jour l'√©tat

```pascal
procedure TForm1.ActionCopierUpdate(Sender: TObject);
begin
  // Activer Copier seulement si du texte est s√©lectionn√©
  ActionCopier.Enabled := Length(Memo1.SelText) > 0;
end;
```

## Bonnes pratiques g√©n√©rales pour les boutons et actions

### 1. Coh√©rence visuelle

- Utilisez des tailles de boutons coh√©rentes
- Placez les boutons aux m√™mes endroits dans toute l'application
- Utilisez les m√™mes ic√¥nes pour les m√™mes actions

### 2. Hi√©rarchie visuelle

- Bouton principal plus visible (taille, couleur)
- Boutons secondaires moins pro√©minents
- Boutons destructifs (supprimer) en rouge ou avec confirmation

### 3. Feedback utilisateur

```pascal
procedure TForm1.ButtonTraiterClick(Sender: TObject);
begin
  ButtonTraiter.Enabled := False;
  Screen.Cursor := crHourGlass;
  try
    TraitementLong;
  finally
    ButtonTraiter.Enabled := True;
    Screen.Cursor := crDefault;
  end;
end;
```

### 4. Raccourcis clavier

Fournissez toujours des raccourcis pour les actions fr√©quentes :
- Ctrl+N : Nouveau
- Ctrl+O : Ouvrir
- Ctrl+S : Enregistrer
- Ctrl+P : Imprimer
- Ctrl+Z : Annuler
- Ctrl+C/V/X : Copier/Coller/Couper

### 5. Info-bulles explicites

```pascal
Button1.ShowHint := True;
Button1.Hint := 'Enregistrer le document (Ctrl+S)';
```

### 6. Validation avant action

```pascal
procedure TForm1.ButtonSupprimerClick(Sender: TObject);
begin
  // Demander confirmation
  if MessageDlg('√ätes-vous s√ªr ?', mtConfirmation, [mbYes, mbNo], 0) = mrYes then
    SupprimerElement;
end;
```

### 7. Gestion des √©tats

```pascal
procedure TForm1.MettreAJourBoutons;
begin
  ButtonModifier.Enabled := ElementSelectionne;
  ButtonSupprimer.Enabled := ElementSelectionne;
  ButtonAjouter.Enabled := True;  // Toujours disponible
end;
```

## Tableau r√©capitulatif

| Composant | Utilisation | Avantage principal |
|-----------|-------------|-------------------|
| TButton | Boutons standards | Simple et efficace |
| TBitBtn | Boutons avec ic√¥nes pr√©d√©finies | Ic√¥nes int√©gr√©es |
| TSpeedButton | Barres d'outils | Apparence moderne, groupage |
| TCheckBox | Options on/off | S√©lections multiples |
| TRadioButton | Choix unique | Exclusion mutuelle |
| TAction | Commandes r√©utilisables | Centralisation du code |

## Conclusion

Les boutons et actions sont essentiels pour cr√©er des interfaces interactives et r√©actives. En comprenant les diff√©rents types de boutons et en utilisant le syst√®me d'actions, vous pouvez cr√©er des applications professionnelles avec une exp√©rience utilisateur coh√©rente.

**Points cl√©s √† retenir :**

- **TButton** : Simple et efficace pour les actions standard
- **TBitBtn** : Parfait pour ajouter des ic√¥nes avec Kind pr√©d√©finis
- **TSpeedButton** : Id√©al pour les barres d'outils et groupements
- **TCheckBox** : Pour les options ind√©pendantes activables/d√©sactivables
- **TRadioButton** : Pour les choix uniques mutuellement exclusifs
- **TAction** : Centralise le code et facilite la maintenance

**Le syst√®me d'actions est particuli√®rement puissant** car il permet de :
- R√©utiliser le m√™me code pour menu, bouton et raccourci clavier
- G√©rer l'√©tat (activ√©/d√©sactiv√©) de mani√®re centralis√©e
- Faciliter la maintenance et les modifications

En ma√Ætrisant ces composants, vous avez les outils n√©cessaires pour cr√©er des interfaces utilisateur interactives, intuitives et professionnelles.

Dans la section suivante, nous explorerons les listes et grilles, qui permettent d'afficher et de manipuler des collections de donn√©es.

‚è≠Ô∏è [Listes et grilles](/04-conception-dinterfaces-utilisateur-avec-la-vcl/03.4-listes-et-grilles.md)
