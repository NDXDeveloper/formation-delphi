üîù Retour au [Sommaire](/SOMMAIRE.md)

# 22.3 Traitement du langage naturel (NLP)

## Qu'est-ce que le traitement du langage naturel ?

### D√©finition simple

Le Traitement du Langage Naturel (NLP - Natural Language Processing) est une branche de l'intelligence artificielle qui permet aux ordinateurs de comprendre, interpr√©ter et manipuler le langage humain.

**En d'autres termes** : Le NLP permet √† votre application de "lire", "comprendre" et "communiquer" en utilisant un langage humain naturel, comme le fran√ßais ou l'anglais.

### Pourquoi le NLP est-il complexe ?

Le langage humain est bien plus complexe qu'il n'y para√Æt :
- **Ambigu√Øt√©** : "Il a vu l'homme avec le t√©lescope" (qui a le t√©lescope ?)
- **Contexte** : "C'est g√©nial !" peut √™tre sinc√®re ou sarcastique
- **Variabilit√©** : Il existe mille fa√ßons de dire la m√™me chose
- **√âvolution** : De nouveaux mots et expressions apparaissent constamment
- **Subtilit√©** : Tons, √©motions, sous-entendus

**L'exploit du NLP** : Transformer ce langage complexe et impr√©cis en donn√©es structur√©es qu'un ordinateur peut traiter.

## Cas d'utilisation du NLP dans les applications Delphi

### Applications pratiques

**Analyse de feedback clients** :
- Classifier automatiquement les commentaires (positifs/n√©gatifs/neutres)
- Extraire les th√®mes r√©currents dans les retours clients
- Identifier les urgences ou r√©clamations prioritaires

**Automatisation du service client** :
- Chatbots intelligents int√©gr√©s dans vos applications
- R√©ponses automatiques aux questions fr√©quentes
- Routage intelligent des demandes vers les bons services

**Traitement de documents** :
- Extraction d'informations dans des contrats ou factures
- R√©sum√© automatique de longs documents
- Classification automatique de documents

**Recherche intelligente** :
- Moteurs de recherche qui comprennent les intentions
- Suggestions de recherche pertinentes
- Recherche s√©mantique (par le sens, pas seulement par mots-cl√©s)

**Analyse de donn√©es textuelles** :
- D√©tection de tendances dans des donn√©es textuelles
- Analyse de sentiments sur les r√©seaux sociaux
- Veille m√©diatique automatis√©e

## T√¢ches fondamentales du NLP

### 1. Tokenisation

**Qu'est-ce que c'est ?** : D√©couper un texte en unit√©s plus petites (tokens) : mots, phrases, ou caract√®res.

**Exemple** :
```
Texte : "Bonjour, comment allez-vous ?"
Tokens : ["Bonjour", ",", "comment", "allez-vous", "?"]
```

**Utilit√©** : C'est la premi√®re √©tape de presque tous les traitements NLP. Impossible d'analyser un texte sans d'abord le d√©couper.

### 2. Analyse de sentiments

**Qu'est-ce que c'est ?** : D√©terminer l'√©motion ou l'opinion exprim√©e dans un texte (positif, n√©gatif, neutre).

**Exemples** :
- "Ce produit est excellent !" ‚Üí Positif (0.95)
- "Service catastrophique, je ne recommande pas." ‚Üí N√©gatif (-0.82)
- "Le colis est arriv√© hier." ‚Üí Neutre (0.05)

**Applications** :
- Surveillance de la r√©putation en ligne
- Analyse de satisfaction client
- D√©tection de crises potentielles

### 3. Classification de texte

**Qu'est-ce que c'est ?** : Attribuer automatiquement une ou plusieurs cat√©gories √† un texte.

**Exemples** :
- Emails : spam ou l√©gitime
- Articles de presse : sport, √©conomie, politique, culture
- Tickets de support : bug, demande de fonctionnalit√©, question

**Avantage** : Automatise le tri et l'organisation de grandes quantit√©s de texte.

### 4. Extraction d'entit√©s nomm√©es (NER)

**Qu'est-ce que c'est ?** : Identifier et extraire des informations sp√©cifiques dans un texte : noms de personnes, lieux, dates, organisations, montants...

**Exemple** :
```
Texte : "Jean Dupont habitait √† Paris et travaillait chez Microsoft depuis 2015."

Entit√©s extraites :
- Personne : Jean Dupont
- Lieu : Paris
- Organisation : Microsoft
- Date : 2015
```

**Applications** :
- Extraction automatique de donn√©es de contrats
- Remplissage automatique de formulaires
- Indexation de documents

### 5. R√©sum√© automatique

**Qu'est-ce que c'est ?** : G√©n√©rer une version condens√©e d'un texte long en conservant les informations essentielles.

**Types** :
- **Extractif** : S√©lectionne les phrases les plus importantes du texte original
- **Abstractif** : G√©n√®re de nouvelles phrases qui r√©sument le contenu (plus avanc√©)

**Applications** :
- R√©sum√©s de rapports longs
- Synth√®ses de r√©unions
- Pr√©visualisations d'articles

### 6. Traduction automatique

**Qu'est-ce que c'est ?** : Traduire automatiquement un texte d'une langue √† une autre.

**√âvolution** : Les traducteurs modernes (comme Google Translate ou DeepL) utilisent des r√©seaux de neurones et sont beaucoup plus pr√©cis que les anciennes m√©thodes.

**Applications** :
- Applications multilingues
- Communication internationale
- Traduction de documentation

### 7. Questions-R√©ponses (Q&A)

**Qu'est-ce que c'est ?** : Syst√®me qui peut r√©pondre √† des questions en langage naturel en s'appuyant sur une base de connaissances ou un texte.

**Exemple** :
```
Texte : "Delphi 13 Florence a √©t√© publi√© en novembre 2024."
Question : "Quand Delphi 13 est-il sorti ?"
R√©ponse : "En novembre 2024"
```

**Applications** :
- Assistants intelligents
- Syst√®mes d'aide en ligne
- Chatbots de support

### 8. Reconnaissance d'intentions

**Qu'est-ce que c'est ?** : Comprendre ce que l'utilisateur veut faire √† partir de sa phrase.

**Exemples** :
- "R√©serve-moi un vol pour Lyon" ‚Üí Intention : R√âSERVATION_VOL
- "Quel temps fera-t-il demain ?" ‚Üí Intention : M√âT√âO
- "Annule ma commande" ‚Üí Intention : ANNULATION

**Applications** :
- Chatbots et assistants vocaux
- Interfaces en langage naturel
- Automatisation de t√¢ches

## Int√©gration du NLP dans les applications Delphi

### Approche 1 : API Cloud de NLP

**Services disponibles** :

**Google Cloud Natural Language API**
- Analyse de sentiments
- Extraction d'entit√©s
- Analyse syntaxique
- Classification de contenu

**Azure Cognitive Services - Text Analytics**
- Analyse de sentiments
- Extraction de phrases cl√©s
- Reconnaissance d'entit√©s nomm√©es
- D√©tection de langue

**AWS Comprehend**
- Analyse de sentiments
- Extraction d'entit√©s
- D√©tection de sujets
- Classification personnalis√©e

**OpenAI API (GPT-4)**
- Traitement de texte avanc√©
- G√©n√©ration de texte
- R√©sum√©s, traductions, questions-r√©ponses
- Conversations naturelles

### Comment utiliser une API NLP avec Delphi

**Principe g√©n√©ral** : Toutes ces API fonctionnent via REST, ce qui est parfait pour Delphi avec TRESTClient.

**Exemple de flux** :
```pascal
// 1. Pr√©parer le texte √† analyser
var
  TexteAnalyser: string;
begin
  TexteAnalyser := MemoCommentaire.Text;

  // 2. Configurer la requ√™te REST
  RESTClient.BaseURL := 'https://api.example.com/sentiment';
  RESTRequest.Method := rmPOST;
  RESTRequest.AddParameter('text', TexteAnalyser, pkREQUESTBODY);

  // 3. Ex√©cuter l'analyse (de pr√©f√©rence en arri√®re-plan)
  TTask.Run(procedure
  begin
    RESTRequest.Execute;

    // 4. Traiter le r√©sultat
    TThread.Synchronize(nil, procedure
    var
      Sentiment: string;
      Score: Double;
    begin
      Sentiment := RESTResponse.JSONValue.GetValue<string>('sentiment');
      Score := RESTResponse.JSONValue.GetValue<Double>('score');

      LabelResultat.Caption := Format('Sentiment: %s (%.2f)',
        [Sentiment, Score]);
    end);
  end);
end;
```

**Avantages des API Cloud** :
- Facile √† int√©grer avec TRESTClient
- Mod√®les constamment mis √† jour
- Pas besoin d'expertise ML
- Multiples langues support√©es
- R√©sultats de haute qualit√©

**Inconv√©nients** :
- N√©cessite une connexion internet
- Co√ªts selon le volume d'utilisation
- Donn√©es envoy√©es √† un tiers (confidentialit√©)
- Latence r√©seau

### Approche 2 : Biblioth√®ques NLP locales

**Biblioth√®ques populaires** :

**spaCy (Python)**
- Biblioth√®que NLP moderne et rapide
- Support de nombreuses langues dont le fran√ßais
- Extraction d'entit√©s, analyse syntaxique, etc.
- Utilisation via Python4Delphi

**NLTK (Python)**
- Biblioth√®que acad√©mique tr√®s compl√®te
- Excellent pour l'apprentissage
- Plus lente que spaCy
- Via Python4Delphi √©galement

**Stanford NLP (Java)**
- Suite compl√®te d'outils NLP
- Tr√®s pr√©cis mais gourmand en ressources
- Peut √™tre appel√© via services REST ou JNI

**Int√©gration avec Python4Delphi** :

```pascal
// Exemple conceptuel avec spaCy
procedure AnalyserTexteLocal(const Texte: string);
var
  PythonEngine: TPythonEngine;
  Script: string;
begin
  PythonEngine := TPythonEngine.Create(nil);
  try
    // Charger spaCy et analyser le texte
    Script :=
      'import spacy' + #13#10 +
      'nlp = spacy.load("fr_core_news_sm")' + #13#10 +
      'doc = nlp("' + Texte + '")' + #13#10 +
      'entities = [(ent.text, ent.label_) for ent in doc.ents]';

    PythonEngine.ExecString(Script);

    // R√©cup√©rer et traiter les r√©sultats
    // ...
  finally
    PythonEngine.Free;
  end;
end;
```

**Avantages** :
- Fonctionne hors ligne
- Confidentialit√© des donn√©es
- Pas de co√ªts r√©currents
- Contr√¥le total

**Inconv√©nients** :
- Configuration plus complexe
- Distribution avec d√©pendances
- N√©cessite de la puissance de calcul
- Mises √† jour manuelles des mod√®les

### Approche 3 : LLM (Large Language Models) via API

Les mod√®les de langage de grande taille comme GPT-4, Claude, ou Llama sont extr√™mement polyvalents pour le NLP.

**Capacit√©s** :
- Comprennent le contexte de mani√®re sophistiqu√©e
- Peuvent effectuer presque toutes les t√¢ches NLP
- G√©n√®rent du texte de qualit√© humaine
- S'adaptent √† de nouvelles t√¢ches sans r√©entra√Ænement

**Utilisation avec Delphi** :
Exactement comme les API REST classiques, mais avec des prompts (instructions) bien formul√©s.

**Exemple de prompt pour analyse de sentiment** :
```
Analyse le sentiment du texte suivant et r√©ponds uniquement
par "positif", "n√©gatif" ou "neutre", suivi d'un score de
confiance entre 0 et 1.

Texte : "Ce produit a d√©pass√© mes attentes !"
```

**Avantages** :
- Extr√™mement flexibles
- Excellents r√©sultats m√™me sur des t√¢ches complexes
- Un seul mod√®le pour de multiples t√¢ches
- Compr√©hension contextuelle avanc√©e

**Inconv√©nients** :
- Co√ªteux pour de gros volumes
- Latence plus √©lev√©e
- R√©sultats parfois impr√©visibles
- N√©cessite des prompts bien con√ßus

## Gestion des langues avec le NLP

### D√©tection automatique de langue

**Pourquoi c'est important** : Avant de traiter un texte, vous devez souvent savoir dans quelle langue il est √©crit.

**Solutions** :
- **API Cloud** : Google Cloud Translation propose une d√©tection de langue
- **Biblioth√®ques** : langdetect (Python) via Python4Delphi
- **Simple** : Analyser les caract√®res et patterns

**Exemple d'utilisation** :
```pascal
// Pseudo-code
var
  Langue: string;
begin
  Langue := DetecterLangue(TexteUtilisateur);

  case Langue of
    'fr': TraiterTexteFrancais(TexteUtilisateur);
    'en': TraiterTexteAnglais(TexteUtilisateur);
    'es': TraiterTexteEspagnol(TexteUtilisateur);
  else
    ShowMessage('Langue non support√©e');
  end;
end;
```

### Support du fran√ßais

**Mod√®les disponibles** :

**Pour spaCy** :
- `fr_core_news_sm` : Mod√®le fran√ßais l√©ger
- `fr_core_news_md` : Mod√®le moyen (meilleur)
- `fr_core_news_lg` : Mod√®le large (le plus pr√©cis)

**Pour les API Cloud** :
- Toutes supportent nativement le fran√ßais
- Qualit√© g√©n√©ralement excellente

**Sp√©cificit√©s du fran√ßais** :
- Accords en genre et nombre
- Conjugaisons complexes
- Accents et caract√®res sp√©ciaux
- Expressions idiomatiques

## Techniques avanc√©es de NLP

### Embeddings (Plongements de mots)

**Concept** : Repr√©senter les mots comme des vecteurs de nombres qui capturent leur signification.

**Exemple** :
```
"chat" ‚Üí [0.2, -0.5, 0.8, ...]
"chien" ‚Üí [0.3, -0.4, 0.7, ...]
```

**Propri√©t√© magique** : Les mots similaires ont des vecteurs proches.

**Applications** :
- Recherche s√©mantique (par le sens)
- D√©tection de documents similaires
- Recommandations de contenu

**Mod√®les populaires** :
- Word2Vec
- GloVe
- FastText
- BERT, GPT (contextuels)

### Transformers et BERT

**R√©volution r√©cente** : Les architectures Transformer (comme BERT, GPT) ont r√©volutionn√© le NLP.

**Pourquoi c'est important** :
- Comprennent le contexte bidirectionnel
- Pr√©-entra√Æn√©s sur d'√©normes corpus
- Adaptables √† de nombreuses t√¢ches

**Pour Delphi** : Utilisez ces mod√®les via :
- API Cloud (OpenAI, Hugging Face)
- ONNX Runtime pour les mod√®les locaux
- Python4Delphi avec biblioth√®que Transformers

## Construire un syst√®me NLP dans votre application Delphi

### Architecture recommand√©e

**Conception en couches** :

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Interface Utilisateur     ‚îÇ  (VCL/FMX)
‚îÇ   (Saisie/Affichage texte)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Couche de traitement NLP  ‚îÇ  (Delphi)
‚îÇ   - Pr√©traitement           ‚îÇ
‚îÇ   - Appels API/Biblioth√®ques‚îÇ
‚îÇ   - Gestion du cache        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Services NLP              ‚îÇ  (Cloud ou Local)
‚îÇ   - Mod√®les ML              ‚îÇ
‚îÇ   - Traitement r√©el         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Strat√©gies d'optimisation

**1. Mise en cache** :
Ne retraitez pas le m√™me texte plusieurs fois. Stockez les r√©sultats.

```pascal
// Cache simple avec TDictionary
var
  CacheSentiments: TDictionary<string, Double>;

function ObtenirSentiment(const Texte: string): Double;
begin
  if not CacheSentiments.TryGetValue(Texte, Result) then
  begin
    // Appel API seulement si non en cache
    Result := AppelerAPISentiment(Texte);
    CacheSentiments.Add(Texte, Result);
  end;
end;
```

**2. Traitement par lots** :
Envoyez plusieurs textes en une seule requ√™te pour r√©duire les co√ªts et la latence.

**3. Pr√©traitement c√¥t√© client** :
- Nettoyez le texte avant de l'envoyer
- Supprimez les espaces inutiles
- Normalisez la casse si n√©cessaire

**4. Interface r√©active** :
Utilisez toujours le multithreading pour les appels NLP afin de ne pas bloquer l'interface.

```pascal
procedure AnalyserTexteAsync(const Texte: string;
  const Callback: TProc<string>);
begin
  TTask.Run(procedure
  var
    Resultat: string;
  begin
    // Traitement NLP (lent)
    Resultat := EffectuerAnalyseNLP(Texte);

    // Retour sur le thread UI
    TThread.Queue(nil, procedure
    begin
      Callback(Resultat);
    end);
  end);
end;
```

## Cas pratique : Chatbot simple

### Architecture d'un chatbot

**Composants n√©cessaires** :

1. **Interface de chat** (VCL/FMX)
   - Zone de saisie utilisateur
   - Historique de conversation
   - Affichage des r√©ponses

2. **Analyse d'intention**
   - D√©terminer ce que l'utilisateur veut
   - Extraire les param√®tres pertinents

3. **Gestionnaire de dialogue**
   - Maintenir le contexte de conversation
   - G√©n√©rer les r√©ponses appropri√©es

4. **Base de connaissances**
   - R√©ponses pr√©d√©finies
   - Acc√®s √† des donn√©es m√©tier
   - FAQ

### Flux de traitement

```
Utilisateur : "Quel est le statut de ma commande 12345 ?"
    ‚Üì
1. D√©tection d'intention ‚Üí V√âRIFIER_STATUT_COMMANDE
2. Extraction d'entit√©s ‚Üí Num√©roCommande: "12345"
3. Requ√™te base de donn√©es ‚Üí Recherche commande 12345
4. G√©n√©ration r√©ponse ‚Üí "Votre commande 12345 est en cours
                         de livraison, arriv√©e pr√©vue demain."
    ‚Üì
Affichage dans le chat
```

### Impl√©mentation avec API Cloud

**Avec OpenAI (GPT) par exemple** :

Envoyez l'historique de conversation complet et laissez le mod√®le g√©n√©rer la r√©ponse appropri√©e.

**Avantages** :
- Conversations naturelles et fluides
- Gestion automatique du contexte
- Adaptation aux questions inattendues

**Avec une approche hybride** :

Utilisez un LLM pour comprendre l'intention, puis du code Delphi classique pour ex√©cuter les actions m√©tier.

## D√©fis et bonnes pratiques

### D√©fis courants

**1. Gestion des ambigu√Øt√©s**
Les textes peuvent avoir plusieurs interpr√©tations. Pr√©voyez des confirmations utilisateur.

**2. Erreurs de l'IA**
Les mod√®les NLP peuvent se tromper. Permettez toujours √† l'utilisateur de corriger.

**3. Langues et dialectes**
Le fran√ßais de France ‚â† fran√ßais du Qu√©bec. Choisissez les bons mod√®les.

**4. Co√ªts**
Les API peuvent co√ªter cher avec de gros volumes. Optimisez et mettez en cache.

**5. Confidentialit√©**
Ne envoyez jamais de donn√©es sensibles √† des API tierces sans cryptage et consentement.

### Bonnes pratiques

**Validation humaine** : Pour les d√©cisions critiques, ajoutez toujours une validation humaine.

**Feedback utilisateur** : Permettez aux utilisateurs de signaler les erreurs pour am√©liorer le syst√®me.

**Gestion d'erreurs robuste** : Les API peuvent √©chouer, pr√©voyez des alternatives ou messages explicites.

**Tests exhaustifs** : Testez avec des textes vari√©s, y compris des cas limites.

**Documentation** : Documentez les limitations de votre syst√®me NLP pour les utilisateurs.

## Ressources pour aller plus loin

### Apprentissage du NLP

**Cours en ligne** :
- Coursera : "Natural Language Processing" par DeepLearning.AI
- Fast.ai : Cours gratuits sur le NLP
- Documentation officielle spaCy (excellents tutoriels)

### Jeux de donn√©es fran√ßais

**Pour s'entra√Æner** :
- French Sentiment Analysis Dataset
- AlloCin√© (critiques de films fran√ßaises)
- Wikipedia fran√ßais pour l'entra√Ænement de mod√®les

### Outils de test

**Postman** : Testez vos appels API NLP avant de les int√©grer dans Delphi

**Jupyter Notebooks** : Exp√©rimentez avec Python et les biblioth√®ques NLP avant l'int√©gration

## Conclusion

Le traitement du langage naturel ouvre des possibilit√©s extraordinaires pour enrichir vos applications Delphi. Que vous choisissiez des API cloud pour leur simplicit√© ou des biblioth√®ques locales pour plus de contr√¥le, Delphi offre les outils n√©cessaires pour une int√©gration r√©ussie.

**Points essentiels** :
- Le NLP permet √† vos applications de comprendre le langage humain
- Les API REST cloud sont le moyen le plus simple de d√©marrer
- Python4Delphi donne acc√®s √† l'√©cosyst√®me riche des biblioth√®ques Python
- Utilisez le multithreading pour garder votre interface r√©active
- Le cache et l'optimisation sont cruciaux pour les performances et les co√ªts

**Commencez petit** : Int√©grez d'abord une fonctionnalit√© simple comme l'analyse de sentiments, puis progressez vers des syst√®mes plus complexes comme des chatbots ou de l'extraction d'information avanc√©e.

Dans la section suivante, nous explorerons la reconnaissance d'images et de formes, un autre domaine passionnant de l'intelligence artificielle !

‚è≠Ô∏è [Reconnaissance d'images et de formes](/22-intelligence-artificielle-et-machine-learning-avec-delphi/04-reconnaissance-dimages-et-de-formes.md)
